(this.webpackJsonpstatic=this.webpackJsonpstatic||[]).push([[0],{27:function(e,t,n){},45:function(e,t,n){},46:function(e,t,n){"use strict";n.r(t);var a=n(1),s=n.n(a),r=n(28),i=n.n(r),o=(n(27),n(15)),l=n(11),c=n(17),u=n.n(c),d=n(19),m=n(5),p=n(6),h=n(2),b=n(8),j=n(7),f=n(9),v=n(4),x=n.n(v),O=n(0),g=function(e){Object(b.a)(n,e);var t=Object(j.a)(n);function n(){return Object(m.a)(this,n),t.apply(this,arguments)}return Object(p.a)(n,[{key:"render",value:function(){var e=this,t=this.props.isStaff;return Object(O.jsxs)("div",{bg:"light",expand:"lg",className:"navbar",children:[Object(O.jsx)("div",{"aria-controls":"basic-navbar-nav"}),Object(O.jsx)("div",{id:"basic-navbar-nav",children:Object(O.jsxs)("nav",{className:"flex ml-12 my-6 mr-auto align-items-baseline bg-gradient-to-r from-gray-800 to-gray-50 ",children:[Object(O.jsx)(o.b,{to:"/",className:"hover:bg-purple-200 font-extrabold mr-4 px-4 py-2 rounded-md",children:"Home"}),this.props.loggedIn&&t&&Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(o.b,{to:"/events/admin/",className:"hover:bg-purple-200 font-extrabold mr-4 px-4 py-2 rounded-md",children:"Admin Events"}),Object(O.jsx)(o.b,{to:"/students",className:"hover:bg-purple-200 font-extrabold mr-4 px-4 py-2 rounded-md",children:"Student List"})]}),this.props.loggedIn&&!t&&Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(o.b,{to:"/events/volunteer/",className:"hover:bg-purple-200 font-extrabold mr-4 px-4 py-2 rounded-md",children:"Available Events"}),Object(O.jsx)(o.b,{to:"/events/my-events/",className:"hover:bg-purple-200 font-extrabold mr-4 px-4 py-2 rounded-md",children:"My Events"})]}),this.props.loggedIn?Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(o.b,{to:"/profile",className:"hover:bg-purple-200 font-boldmr-4 px-4 py-2 rounded-md",children:"Profile"}),Object(O.jsx)("button",{id:"btn-logout",className:"hover:bg-purple-200 font-extrabold mr-4 px-4 py-2 rounded-md",onClick:function(){return e.props.handleLogout()},children:"Logout"})]}):Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(o.b,{to:"/login",className:"hover:bg-purple-200 font-extrabold mr-4 px-4 py-2 rounded-md",children:"Login"}),Object(O.jsx)(o.b,{to:"/register",className:"hover:bg-purple-200 font-extrabold mr-4 px-4 py-2 rounded-md",children:"Register"})]})]})})]})}}]),n}(a.Component),y=function(e){Object(b.a)(n,e);var t=Object(j.a)(n);function n(e){return Object(m.a)(this,n),t.call(this,e)}return Object(p.a)(n,[{key:"render",value:function(){return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("ul",{children:"Welcome to the main page"}),Object(O.jsx)("p",{children:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum."}),Object(O.jsx)("p",{children:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum."}),Object(O.jsx)("p",{children:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum."}),Object(O.jsx)("p",{children:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum."}),Object(O.jsx)("p",{children:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum."})]})}}]),n}(a.Component),k=n(3),C=function(e){Object(b.a)(n,e);var t=Object(j.a)(n);function n(e){var a;return Object(m.a)(this,n),(a=t.call(this,e)).state={username:"",email:"",phone:"",password1:"",password2:""},a.handleSubmit=a.handleSubmit.bind(Object(h.a)(a)),a.handleInput=a.handleInput.bind(Object(h.a)(a)),a}return Object(p.a)(n,[{key:"handleInput",value:function(e){this.setState(Object(k.a)({},e.target.name,e.target.value))}},{key:"handleSubmit",value:function(e){e.preventDefault(),this.props.handleRegistration(this.state)}},{key:"render",value:function(){var e=this;return Object(O.jsx)("div",{class:"form-container",children:Object(O.jsxs)("form",{class:"form-2",onSubmit:this.handleSubmit,children:[Object(O.jsx)("input",{class:"input-1 ml-10 pb-10",type:"text",name:"username",autoComplete:"off",required:!0,onChange:this.handleInput,value:this.state.username,align:"center",placeholder:"Username"}),Object(O.jsx)("input",{class:"input-1 ml-10 pb-10",type:"email",name:"email",align:"center",placeholder:"e-mail",onChange:this.handleInput,value:this.state.email}),Object(O.jsx)("input",{class:"input-1 ml-10 pb-10",type:"password",name:"password1",align:"center",autoComplete:"off",required:!0,onChange:this.handleInput,value:this.state.password1,placeholder:"Password"}),Object(O.jsx)("input",{class:"input-1 ml-10 pb-10",type:"password",name:"password2",align:"center",autoComplete:"off",required:!0,onChange:this.handleInput,value:this.state.password2,placeholder:"Confirm Password"}),Object(O.jsx)("button",{class:"btn-submit",align:"center",onClick:function(){return e.props.handleRegistration(e.state)},children:"Register"})]})})}}]),n}(a.Component),S=function(e){Object(b.a)(n,e);var t=Object(j.a)(n);function n(e){var a;return Object(m.a)(this,n),(a=t.call(this,e)).state={username:"",email:"",password:""},a.handleSubmit=a.handleSubmit.bind(Object(h.a)(a)),a.handleInput=a.handleInput.bind(Object(h.a)(a)),a}return Object(p.a)(n,[{key:"handleInput",value:function(e){this.setState(Object(k.a)({},e.target.name,e.target.value))}},{key:"handleSubmit",value:function(e){e.preventDefault(),this.props.handleLogin(this.state)}},{key:"render",value:function(){var e=this;return Object(O.jsx)("div",{class:"form-container",children:Object(O.jsxs)("form",{class:"form-1",onSubmit:this.handleSubmit,children:[Object(O.jsx)("input",{class:"input-1 ml-10",type:"text",name:"username",autoComplete:"off",required:!0,onChange:this.handleInput,value:this.state.username,align:"center",placeholder:"Username"}),Object(O.jsx)("input",{class:"input-1 ml-10",type:"email",name:"email",align:"center",placeholder:"e-mail",onChange:this.handleInput,value:this.state.email}),Object(O.jsx)("input",{class:"input-1 ml-10",type:"password",name:"password",align:"center",autoComplete:"off",required:!0,onChange:this.handleInput,value:this.state.password1,placeholder:"Password"}),Object(O.jsx)("button",{class:"btn-submit",align:"center",onClick:function(){return e.props.handleLogin(e.state)},children:"Log in"})]})})}}]),n}(a.Component),I=function(e){Object(b.a)(n,e);var t=Object(j.a)(n);function n(e){var a;return Object(m.a)(this,n),(a=t.call(this,e)).state={display_name:"",avatar:null,preview:"",isEditing:!1},a.handleInput=a.handleInput.bind(Object(h.a)(a)),a.handleImage=a.handleImage.bind(Object(h.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(h.a)(a)),a.editProfile=a.editProfile.bind(Object(h.a)(a)),a}return Object(p.a)(n,[{key:"componentDidMount",value:function(){var e=this;fetch("/api/v1/users/profiles/user/").then((function(e){if(!e.ok)throw new Error("Network response was not ok");return e.json()})).then((function(t){return e.setState(Object(l.a)({},t))})).catch((function(e){console.error("There has been a problem with youor fetch operation:",e)}))}},{key:"handleInput",value:function(e){this.setState(Object(k.a)({},e.target.name,e.target.value))}},{key:"handleImage",value:function(e){var t=this,n=e.target.files[0];this.setState(Object(k.a)({},e.target.name,n));var a=new FileReader;a.onloadend=function(){t.setState({preview:a.result})},a.readAsDataURL(n)}},{key:"handleSubmit",value:function(){var e=Object(d.a)(u.a.mark((function e(t){var n,a,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),(n=new FormData).append("avatar",this.state.avatar),n.append("display_name",this.state.display_name),a={method:"POST",headers:{"X-CSRFToken":x.a.get("csrftoken")},body:n},e.next=7,fetch("/api/v1/users/profiles/user/",a);case 7:s=e.sent,this.setState({response:s});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"editProfile",value:function(e){var t=new FormData;this.state.avatar&&t.append("avatar",this.state.avatar),this.state.display_name&&t.append("display_name",this.state.display_name);var n={method:"PATCH",headers:{"Content-Type":"application/json","X-CSRFToken":x.a.get("csrftoken")},body:JSON.stringify(e)};fetch("/api/v1/users/profile/user/",n).then((function(e){if(!e.ok)throw new Error("Error");return e.json()}))}},{key:"render",value:function(){return Object(O.jsx)(O.Fragment,{children:Object(O.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(O.jsxs)("section",{className:"profile",children:[Object(O.jsx)("input",{type:"text",name:"display_name",value:this.state.display_name,onChange:this.handleInput}),Object(O.jsx)("input",{type:"file",name:"avatar",onChange:this.handleImage}),this.state.avatar?Object(O.jsx)("img",{src:this.state.preview||this.state.avatar,alt:""}):null]}),Object(O.jsx)("button",{type:"submit",children:"Save Profile!"})]})})}}]),n}(a.Component),w=n(12),N=n(30),T=function(e){Object(b.a)(n,e);var t=Object(j.a)(n);function n(e){var a,s,r,i,o;return Object(m.a)(this,n),(o=t.call(this,e)).state={isEditing:!1,grade:null===(a=o.props.events)||void 0===a?void 0:a.grade,date:null===(s=o.props.events)||void 0===s?void 0:s.date,startTime:null===(r=o.props.events)||void 0===r?void 0:r.startTime,endTime:null===(i=o.props.events)||void 0===i?void 0:i.endTime},o.handleInput=o.handleInput.bind(Object(h.a)(o)),o.saveEvent=o.saveEvent.bind(Object(h.a)(o)),o.assignStudent=o.assignStudent.bind(Object(h.a)(o)),o}return Object(p.a)(n,[{key:"handleInput",value:function(e){this.setState(Object(k.a)({},e.target.name,e.target.value))}},{key:"saveEvent",value:function(){var e=this.props.event;e.grade=this.state.grade,e.date=this.state.date,this.props.editEvent(e),this.setState({isEditing:!1})}},{key:"assignStudent",value:function(e){var t=this.props.event.id,n=e.target.value;this.props.assignStudent(t,n)}},{key:"render",value:function(){var e=this,t=(this.props.student,this.props.event),n=this.props.students.map((function(e){return Object(O.jsx)("option",{value:e.id,selected:t.student===e.id,children:"".concat(e.last_name,", ").concat(e.first_name)})}));return Object(O.jsx)("li",{className:"bg-purple-100 m-6 p-4 rounded w-80",children:Object(O.jsxs)("div",{children:[this.state.isEditing?Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("input",{type:"number",min:"1",max:"5",name:"grade",value:this.state.grade,onChange:this.handleInput}),Object(O.jsx)("input",{type:"datetime-local",value:this.state.date,onChange:this.handleInput,name:"date"})]}):Object(O.jsxs)(O.Fragment,{children:[Object(O.jsxs)("div",{className:"flex items-center",children:[Object(O.jsx)("label",{className:"text-gray-500 block text-sm mr-2",children:"Grade:"}),Object(O.jsx)("h2",{className:"bg-white rounded-full py-2 px-4",children:t.grade})]}),Object(O.jsx)("label",{className:"text-gray-500 block text-sm",children:"Date:"}),Object(O.jsx)("time",{children:t.date_of_event}),Object(O.jsxs)("div",{className:"flex items-center",children:[Object(O.jsx)("label",{className:"text-gray-500 block text-sm",children:"From:"}),Object(O.jsx)("time",{className:"mr-4",children:t.start_of_event}),Object(O.jsx)("label",{className:"text-gray-500 block text-sm ",children:"To:"}),Object(O.jsx)("time",{children:t.end_of_event})]}),Object(O.jsx)("label",{className:"text-gray-500 block text-sm",children:"Volunteer:"}),Object(O.jsx)("p",{children:t.volunteer}),Object(O.jsx)("label",{for:"student-select",children:"Choose a student:"}),Object(O.jsxs)("select",{name:"",id:"",onChange:this.assignStudent,children:[Object(O.jsx)("option",{value:"",children:" --Please choose a student-- "}),n]})]}),Object(O.jsx)("button",{class:"btn-edit bg-blue rounded-full py-3 px-6",onClick:function(){return e.props.deleteEvent(t.id)},children:"delete"}),this.state.isEditing?Object(O.jsx)("button",{class:"btn-edit bg-blue flex-col ml-2 mt-2",type:"button",onClick:this.saveEvent,children:"Save"}):Object(O.jsx)("button",{class:"btn-edit bg-blue flex-col ml-2 mt-2 rounded-full py-3 px-6",onClick:function(){return e.setState({isEditing:!0})},children:"Edit"})]})})}}]),n}(a.Component),F=function(e){Object(b.a)(n,e);var t=Object(j.a)(n);function n(e){var a;return Object(m.a)(this,n),(a=t.call(this,e)).state={events:[],students:[],grade:null,date:null,startTime:null,endTime:null},a.addEvent=a.addEvent.bind(Object(h.a)(a)),a.editEvent=a.editEvent.bind(Object(h.a)(a)),a.deleteEvent=a.deleteEvent.bind(Object(h.a)(a)),a.handleInput=a.handleInput.bind(Object(h.a)(a)),a.assignStudent=a.assignStudent.bind(Object(h.a)(a)),a}return Object(p.a)(n,[{key:"componentDidMount",value:function(){var e=this;Promise.all([fetch("/api/v1/events/staff/"),fetch("/api/v1/students/")]).then((function(e){return Promise.all(e.map((function(e){return e.json()})))})).then((function(t){var n=Object(N.a)(t,2),a=n[0],s=n[1];e.setState({events:a,students:s})}))}},{key:"handleInput",value:function(e){this.setState(Object(k.a)({},e.target.name,e.target.value))}},{key:"addEvent",value:function(e){var t=this;e.preventDefault();var n={grade:this.state.grade,date_of_event:this.state.date,start_of_event:this.state.startTime,end_of_event:this.state.endTime},a={method:"POST",headers:{"Content-Type":"application/json","X-CSRFToken":x.a.get("csrftoken")},body:JSON.stringify(n)};fetch("/api/v1/events/",a).then((function(e){return e.json()})).then((function(e){var n=[].concat(Object(w.a)(t.state.events),[e]);t.setState({events:n,grade:"",date:null,startTime:null,endTime:null})}))}},{key:"editEvent",value:function(e){var t=this,n={method:"PUT",headers:{"Content-Type":"application/json","X-CSRFToken":x.a.get("csrftoken")},body:JSON.stringify(e)};fetch("/api/v1/events/".concat(e.id,"/"),n).then((function(n){if(!n.ok)throw new Error("Network response was not ok");var a=Object(w.a)(t.state.events);console.log(a);var s=a.findIndex((function(e){return e.id===e.id}));a[s].grade=e.grade,a[s].date=e.date,a[s].startTime=e.startTime,a[s].endTime=e.endTime,t.setState({events:a})}))}},{key:"deleteEvent",value:function(e,t){var n=this;t.preventDefault();var a={method:"DELETE",headers:{"Content-Type":"application/json","X-CSRFToken":x.a.get("csrftoken")}};fetch("/api/v1/events/".concat(e,"/"),a).then((function(t){if(!t.ok)throw new Error("Network response was not ok");var a=Object(w.a)(n.state.events),s=a.findIndex((function(t){return a.id===e}));a.splice(s,1),n.setState({events:a})})).catch((function(e){console.error("Error:",e)}))}},{key:"assignStudent",value:function(e,t){var n=this,a={method:"PATCH",headers:{"Content-Type":"application/json","X-CSRFToken":x.a.get("csrftoken")},body:JSON.stringify({student:t})};fetch("/api/v1/events/staff/".concat(e,"/"),a).then((function(a){if(!a.ok)throw new Error("Network response was not ok");var s=Object(w.a)(n.state.events),r=s.findIndex((function(t){return t.id===e}));s[r].student=t,n.setState({events:s})}))}},{key:"render",value:function(){var e,t=this,n=this.state.events.map((function(e){return Object(O.jsx)(T,{event:e,deleteEvent:t.deleteEvent,editEvent:t.editEvent,students:t.state.students,assignStudent:t.assignStudent},e.id)}));return Object(O.jsx)(O.Fragment,{children:Object(O.jsxs)("section",{className:"events-container flex bg-opacity-20",children:[Object(O.jsx)("ul",{children:n}),Object(O.jsx)("section",{className:"form-container-2 sticky mt-12",style:{top:"10VH"},children:Object(O.jsxs)("form",{class:"form-1",onSubmit:this.addEvent,children:[Object(O.jsxs)("div",{class:"mb-3",children:[Object(O.jsx)("label",{for:"exampleFormControlInput1",class:"form-label block",children:"Grade"}),Object(O.jsx)("input",{type:"number",min:"1",max:"5",class:"input-1",id:"exampleFormControlInput1",autoComplete:"off",name:"grade",value:this.state.grade,onChange:this.handleInput,placeholder:"Insert the grade"})]}),Object(O.jsxs)("div",{class:"mb-3",children:[Object(O.jsx)("label",{for:"exampleFormControlTextarea1",class:"form-label block",children:"Event Date"}),Object(O.jsx)("input",(e={type:"date",min:"2021-11-07",max:"2021-12-31",class:"input-1",name:"date",id:"start",autoComplete:"off"},Object(k.a)(e,"id","exampleFormControlInput1"),Object(k.a)(e,"value",this.state.date_of_event),Object(k.a)(e,"onChange",this.handleInput),Object(k.a)(e,"rows","3"),Object(k.a)(e,"required",!0),e))]}),Object(O.jsxs)("div",{class:"mb-3",children:[Object(O.jsx)("label",{for:"exampleFormControlTextarea1",class:"form-label block",children:"Start Time"}),Object(O.jsx)("input",{type:"time",class:"input-1",name:"startTime",min:"08:00",max:"15:00",required:!0,autoComplete:"off",id:"exampleFormControlInput1",value:this.state.start_of_event,onChange:this.handleInput,rows:"3"})]}),Object(O.jsxs)("div",{class:"mb-3",children:[Object(O.jsx)("label",{for:"exampleFormControlTextarea1",class:"form-label block",children:"End Time"}),Object(O.jsx)("input",{type:"time",class:"input-1",name:"endTime",min:"08:00",max:"15:00",required:!0,autoComplete:"off",id:"exampleFormControlInput1",value:this.state.end_of_event,onChange:this.handleInput,rows:"3"})]}),Object(O.jsx)("button",{type:"submit",onClick:this.addevent,class:"btn-submit bg-blue",children:"Submit"})]})})]})})}}]),n}(a.Component),E=function(e){Object(b.a)(n,e);var t=Object(j.a)(n);function n(e){var a;return Object(m.a)(this,n),(a=t.call(this,e)).state={events:[],grade:null,date:null},a.handleInput=a.handleInput.bind(Object(h.a)(a)),a.signUp=a.signUp.bind(Object(h.a)(a)),a}return Object(p.a)(n,[{key:"componentDidMount",value:function(){var e=this;fetch("/api/v1/events/").then((function(e){if(!e.ok)throw new Error("Network response was not ok");return e.json()})).then((function(t){return e.setState({events:t})})).catch((function(e){console.error("There has been a problem with youor fetch operation:",e)}))}},{key:"handleInput",value:function(e){this.setState(Object(k.a)({},e.target.name,e.target.value))}},{key:"signUp",value:function(e,t){var n=this;e.preventDefault();var a=t.id,s={method:"PUT",headers:{"Content-Type":"application/json","X-CSRFToken":x.a.get("csrftoken")},body:JSON.stringify(t)};fetch("/api/v1/events/".concat(a,"/"),s).then((function(e){if(!e.ok)throw new Error("Network response was not ok");var t=Object(w.a)(n.state.events),s=t.findIndex((function(e){return e.id===a}));t[s].volunteer=!1,n.setState({events:t})}))}},{key:"render",value:function(){var e=this,t=this.state.events.map((function(t,n){return Object(O.jsx)("div",{children:Object(O.jsx)("section",{children:Object(O.jsx)("form",{onSubmit:function(n){return e.signUp(n,t)},className:"form-1 bg-purple-100 m-6 p-4 rounded-3xl m-auto block max-w-md mt-20",children:Object(O.jsxs)("div",{class:"mb-3",children:[Object(O.jsx)("label",{for:"exampleFormControlInput1",class:"form-label text-gray-500 block text-sm mr-2",children:"Grade:"}),Object(O.jsxs)("p",{class:"form-control pb-3",id:"exampleFormControlInput1",name:"grade",children:[t.grade," "]}),Object(O.jsx)("label",{for:"exampleFormControlTextarea1",class:"form-label text-gray-500 block text-sm mr-2",children:"Event Date:"}),Object(O.jsx)("time",{class:"form-control pb-3",id:"exampleFormControlInput1",rows:"3",children:t.date_of_event}),Object(O.jsx)("label",{for:"exampleFormControlTextarea1",class:"form-label text-gray-500 block text-sm mr-2",children:"From:"}),Object(O.jsx)("time",{class:"form-control pb-3",id:"exampleFormControlInput1",rows:"3",children:t.start_of_event}),Object(O.jsx)("label",{for:"exampleFormControlTextarea1",class:"form-label text-gray-500 block text-sm mr-2",children:"To::"}),Object(O.jsx)("time",{class:"form-control pb-3",id:"exampleFormControlInput1",rows:"3",children:t.end_of_event}),Object(O.jsx)("div",{class:"btn-signup bg-blue pb-2",type:"button",onClick:function(n){return e.signUp(n,t)},children:"Sign Up"})]})})})},n)}));return Object(O.jsx)("ul",{children:t})}}]),n}(a.Component),_=function(e){Object(b.a)(n,e);var t=Object(j.a)(n);function n(e){var a;return Object(m.a)(this,n),(a=t.call(this,e)).state={events:[]},a.cancelEvent=a.cancelEvent.bind(Object(h.a)(a)),a}return Object(p.a)(n,[{key:"componentDidMount",value:function(){var e=this;fetch("/api/v1/events/volunteer/").then((function(e){if(!e.ok)throw new Error("Network response was not ok");return e.json()})).then((function(t){return e.setState({events:t})})).catch((function(e){console.error("There has been a problem with youor fetch operation:",e)}))}},{key:"handleInput",value:function(e){this.setState(Object(k.a)({},e.target.name,e.target.value))}},{key:"cancelEvent",value:function(e,t){var n=this;e.preventDefault();var a=t.id,s={method:"PATCH",headers:{"Content-Type":"application/json","X-CSRFToken":x.a.get("csrftoken")},body:JSON.stringify({volunteer:null})};fetch("/api/v1/events/volunteer/".concat(a,"/"),s).then((function(e){if(!e.ok)throw new Error("Network response was not ok");var t=Object(w.a)(n.state.events),s=t.findIndex((function(e){return e.id===a}));t[s].volunteer=null,n.setState({events:t})}))}},{key:"render",value:function(){var e=this,t=this.state.events.map((function(t,n){return Object(O.jsx)("div",{children:Object(O.jsx)("section",{children:Object(O.jsxs)("form",{onSubmit:function(n){return e.signUp(n,t)},className:"form-1 bg-purple-100 m-6 p-4 rounded-3xl m-auto block max-w-md mt-6",children:[Object(O.jsxs)("div",{class:"mb-3",children:[Object(O.jsx)("label",{for:"exampleFormControlInput1",class:"form-label text-gray-500 block text-sm mr-2",children:"Grade:"}),Object(O.jsxs)("p",{class:"form-control pb-3",id:"exampleFormControlInput1",name:"grade",children:[t.grade," "]}),Object(O.jsx)("label",{for:"exampleFormControlTextarea1",class:"form-label text-gray-500 block text-sm mr-2",children:"Event Date:"}),Object(O.jsx)("time",{class:"form-control pb-3",id:"exampleFormControlInput1",rows:"3",children:t.date_of_event}),Object(O.jsx)("label",{for:"exampleFormControlTextarea1",class:"form-label text-gray-500 block text-sm mr-2",children:"From:"}),Object(O.jsx)("time",{class:"form-control pb-3",id:"exampleFormControlInput1",rows:"3",children:t.start_of_event}),Object(O.jsx)("label",{for:"exampleFormControlTextarea1",class:"form-label text-gray-500 block text-sm mr-2",children:"To:"}),Object(O.jsx)("time",{class:"form-control pb-3",id:"exampleFormControlInput1",rows:"3",children:t.end_of_event})]}),Object(O.jsx)("div",{class:"btn-signup bg-blue pb-2",type:"button",onClick:function(n){return e.cancelEvent(n,t)},children:"Cancel"})]})})},n)}));return Object(O.jsx)("ul",{children:t})}}]),n}(a.Component),q=function(e){Object(b.a)(n,e);var t=Object(j.a)(n);function n(e){var a;return Object(m.a)(this,n),(a=t.call(this,e)).state={isEditing:!1,firstName:a.props.firstName,lastName:a.props.lastName,studentId:a.props.studentId,primanryContact:a.props.primanryContact,grade:a.props.grade},a.handleInput=a.handleInput.bind(Object(h.a)(a)),a.saveStudent=a.saveStudent.bind(Object(h.a)(a)),a}return Object(p.a)(n,[{key:"handleInput",value:function(e){this.setState(Object(k.a)({},e.target.name,e.target.value))}},{key:"saveStudent",value:function(){var e=this.props.student;e.first_name=this.state.firstName,e.last_name=this.state.lastName,e.student_id=this.state.studentId,e.primary_contact=this.state.primaryContact,e.grade=this.state.grade,this.props.editStudent(e),this.setState({isEditing:!1})}},{key:"deactivateStudent",value:function(){var e=this.props.student;this.props.deactivateStudent(e)}},{key:"render",value:function(){var e=this,t=this.props.student;return Object(O.jsx)("li",{className:"bg-purple-100 m-6 p-4 rounded-xl",children:Object(O.jsxs)("div",{children:[this.state.isEditing?Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("input",{type:"text",name:"firstName",class:"form-control",autoComplete:"off",id:"exampleFormControlInput1",value:this.state.first_name,onChange:this.handleInput,rows:"3",placeholder:"Insert the student first name"}),Object(O.jsx)("input",{type:"text",name:"lastName",class:"form-control",autoComplete:"off",id:"exampleFormControlInput1",value:this.state.last_name,onChange:this.handleInput,rows:"3",placeholder:"Insert the student last name"}),Object(O.jsx)("input",{type:"number",class:"form-control",id:"exampleFormControlInput1",autoComplete:"off",name:"studentId",value:this.state.student_id,onChange:this.handleInput,placeholder:"Insert the student ID"}),Object(O.jsx)("input",{type:"text",name:"primaryContact",class:"form-control",autoComplete:"off",id:"exampleFormControlInput1",value:this.state.primary_contact,onChange:this.handleInput,rows:"3",placeholder:"Insert the student primart contact"}),Object(O.jsx)("input",{type:"number",min:"1",max:"5",name:"grade",value:this.state.grade,onChange:this.handleInput,placeholder:"Insert the student grade"})]}):Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("label",{className:"text-gray-500 block text-sm mr-2 ",children:"First Name:"}),Object(O.jsx)("p",{className:"font-semibold",children:t.first_name}),Object(O.jsx)("label",{className:"text-gray-500 block text-sm mr-2",children:"Last Name:"}),Object(O.jsx)("p",{className:"font-semibold",children:t.last_name}),Object(O.jsx)("label",{className:"text-gray-500 block text-sm mr-2",children:"Student ID:"}),Object(O.jsx)("p",{children:t.student_id}),Object(O.jsx)("label",{className:"text-gray-500 block text-sm mr-2",children:"Primary Contact:"}),Object(O.jsx)("p",{children:t.primary_contact}),Object(O.jsxs)("div",{className:"flex items-center",children:[Object(O.jsx)("label",{className:"text-gray-500 block text-sm mr-2",children:"Grade:"}),Object(O.jsx)("h2",{className:"bg-white rounded-full py-2 px-4",children:t.grade})]})]}),Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("button",{class:"btn-edit bg-blue flex-col ml-.5 mt-2 rounded",onClick:function(){return e.props.deleteStudent(t.id)},children:"delete"}),Object(O.jsx)("button",{class:"btn-edit bg-blue flex-col ml-2 mt-2 rounded",onClick:function(){return e.deactivateStudent(t.id)},children:" Inactive "})]}),this.state.isEditing?Object(O.jsx)("button",{class:"btn-edit bg-blue flex-col ml-2 mt-2 rounded",type:"button",onClick:this.saveStudent,children:"Save"}):Object(O.jsx)("button",{class:"btn-edit bg-blue flex-col ml-2 mt-2 rounded",type:"button",onClick:function(){return e.setState({isEditing:!0})},children:"Edit"})]})})}}]),n}(a.Component),D=function(e){Object(b.a)(n,e);var t=Object(j.a)(n);function n(e){var a;return Object(m.a)(this,n),(a=t.call(this,e)).state={students:[],firstName:"",lastName:"",studentId:null,primaryContact:"",grade:null},a.addStudent=a.addStudent.bind(Object(h.a)(a)),a.editStudent=a.editStudent.bind(Object(h.a)(a)),a.deleteStudent=a.deleteStudent.bind(Object(h.a)(a)),a.handleInput=a.handleInput.bind(Object(h.a)(a)),a.deactivateStudent=a.deactivateStudent.bind(Object(h.a)(a)),a}return Object(p.a)(n,[{key:"componentDidMount",value:function(){var e=this;fetch("/api/v1/students/").then((function(e){if(!e.ok)throw new Error("Network response was not ok");return e.json()})).then((function(t){return e.setState({students:t})})).catch((function(e){console.error("There has been a problem with youor fetch operation:",e)}))}},{key:"handleInput",value:function(e){this.setState(Object(k.a)({},e.target.name,e.target.value))}},{key:"addStudent",value:function(e){var t=this;e.preventDefault();var n={first_name:this.state.firstName,last_name:this.state.lastName,student_id:this.state.studentId,primary_contact:this.state.primaryContact,grade:this.state.grade};console.log(n);var a={method:"POST",headers:{"Content-Type":"application/json","X-CSRFToken":x.a.get("csrftoken")},body:JSON.stringify(n)};fetch("/api/v1/students/",a).then((function(e){return e.json()})).then((function(e){var n=[].concat(Object(w.a)(t.state.students),[e]);t.setState({students:n,firstName:"",lastName:"",studentId:null,primaryContact:"",grade:""})}))}},{key:"editStudent",value:function(e){var t=this,n={method:"PUT",headers:{"Content-Type":"application/json","X-CSRFToken":x.a.get("csrftoken")},body:JSON.stringify(e)};fetch("/api/v1/students/".concat(e.id,"/"),n).then((function(n){if(!n.ok)throw new Error("Network response was not ok");var a=Object(w.a)(t.state.students),s=a.findIndex((function(e){return e.id===e.id}));a[s].firstName=e.firstName,a[s].lastName=e.lastName,a[s].studentID=e.studentID,a[s].primaryContact=e.primaryContact,a[s].grade=e.grade,t.setState({students:a})}))}},{key:"deactivateStudent",value:function(e){var t=this,n=e.id,a={method:"PATCH",headers:{"Content-Type":"application/json","X-CSRFToken":x.a.get("csrftoken")},body:JSON.stringify({active:!1})};fetch("/api/v1/students/".concat(n,"/"),a).then((function(e){return e.json()})).then((function(e){var a=Object(w.a)(t.state.students);console.log(a);var s=a.findIndex((function(e){return e.id===n}));a[s].active=!1,t.setState({students:a})}))}},{key:"deleteStudent",value:function(e){var t=this,n={method:"DELETE",headers:{"Content-Type":"application/json","X-CSRFToken":x.a.get("csrftoken")}};fetch("/api/v1/students/".concat(e,"/"),n).then((function(n){if(!n.ok)throw new Error("Network response was not ok");var a=Object(w.a)(t.state.students),s=a.findIndex((function(t){return a.id===e}));a.splice(s,1),t.setState({students:a})})).catch((function(e){console.error("Error:",e)}))}},{key:"render",value:function(){var e=this,t=this.state.students.map((function(t){return Object(O.jsx)(q,{student:t,deactivateStudent:e.deactivateStudent,deleteStudent:e.deleteStudent,editStudent:e.editStudent},t.id)}));return Object(O.jsx)(O.Fragment,{children:Object(O.jsxs)("section",{className:"events-container flex",children:[Object(O.jsx)("ul",{children:t}),Object(O.jsx)("section",{className:"form-container-2 sticky mt-12",style:{top:"10VH"},children:Object(O.jsxs)("form",{class:"form-1",onSubmit:this.addStudent,children:[Object(O.jsxs)("div",{class:"mb-3",children:[Object(O.jsx)("label",{for:"exampleFormControlTextarea1",class:"form-label",children:"First Name"}),Object(O.jsx)("input",{type:"text",name:"firstName",required:!0,class:"form-control input-1",autoComplete:"off",id:"exampleFormControlInput1",value:this.state.first_name,onChange:this.handleInput,rows:"3"})]}),Object(O.jsxs)("div",{class:"mb-3",children:[Object(O.jsx)("label",{for:"exampleFormControlTextarea1",class:"form-label",children:"Last Name"}),Object(O.jsx)("input",{type:"text",name:"lastName",required:!0,class:"form-control input-1",autoComplete:"off",id:"exampleFormControlInput1",value:this.state.last_name,onChange:this.handleInput,rows:"3"})]}),Object(O.jsxs)("div",{class:"mb-3",children:[Object(O.jsx)("label",{for:"exampleFormControlInput1",class:"form-label",children:"Student ID"}),Object(O.jsx)("input",{type:"number",class:"form-control input-1",required:!0,id:"exampleFormControlInput1",autoComplete:"off",name:"studentId",value:this.state.student_id,onChange:this.handleInput,placeholder:"Insert the student ID"})]}),Object(O.jsxs)("div",{class:"mb-3",children:[Object(O.jsx)("label",{for:"exampleFormControlTextarea1",class:"form-label ",children:"Primary Contact"}),Object(O.jsx)("input",{type:"text",name:"primaryContact",required:!0,class:"form-control input-1",autoComplete:"off",id:"exampleFormControlInput1",value:this.state.primary_contact,onChange:this.handleInput,rows:"3"})]}),Object(O.jsxs)("div",{class:"mb-3",children:[Object(O.jsx)("label",{for:"exampleFormControlInput1",class:"form-label",children:"Grade"}),Object(O.jsx)("input",{type:"number",min:"1",max:"5",required:!0,class:"form-control input-1",id:"exampleFormControlInput1",autoComplete:"off",name:"grade",value:this.state.grade,onChange:this.handleInput,placeholder:"Insert the grade"})]}),Object(O.jsx)("button",{type:"submit",onClick:this.addStudent,class:"btn-submit bg-blue",children:"Submit"})]})})]})})}}]),n}(a.Component),L=(n(45),function(e){Object(b.a)(n,e);var t=Object(j.a)(n);function n(e){var a,s;return Object(m.a)(this,n),(s=t.call(this,e)).state={loggedIn:!!x.a.get("Authorization"),isStaff:!!(null===(a=JSON.parse(localStorage.getItem("user")))||void 0===a?void 0:a.is_staff)},s.handleLogin=s.handleLogin.bind(Object(h.a)(s)),s.handleRegistration=s.handleRegistration.bind(Object(h.a)(s)),s.handleLogout=s.handleLogout.bind(Object(h.a)(s)),s}return Object(p.a)(n,[{key:"handleLogin",value:function(){var e=Object(d.a)(u.a.mark((function e(t){var n,a,s,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={method:"POST",headers:{"Content-Type":"application/json","X-CSRFToken":x.a.get("csrftoken")},body:JSON.stringify(t)},a=function(e){return console.warn(e)},e.next=4,fetch("/rest-auth/login/",n).catch(a);case 4:if(!(s=e.sent).ok){e.next=13;break}return e.next=8,s.json().catch(a);case 8:r=e.sent,x.a.set("Authorization","Token ".concat(r.key)),localStorage.setItem("user",JSON.stringify(r.user)),this.setState({isStaff:r.user.is_staff,loggedIn:!0}),r.user.is_staff?this.props.history.push("/events/admin/"):this.props.history.push("/events/volunteer/");case 13:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"handleRegistration",value:function(){var e=Object(d.a)(u.a.mark((function e(t){var n,a,s,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={method:"POST",headers:{"Content-Type":"application/json","X-CSRFToken":x.a.get("csrftoken")},body:JSON.stringify(t)},a=function(e){return console.warn(e)},e.next=4,fetch("/rest-auth/registration/",n).catch(a);case 4:if(!(s=e.sent).ok){e.next=13;break}return e.next=8,s.json().catch(a);case 8:r=e.sent,x.a.set("Authorization","Token ".concat(r.key)),localStorage.setItem("user",JSON.stringify(r.user)),this.setState({loggedIn:!0}),this.props.history.push("/events/volunteer/");case 13:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"handleLogout",value:function(){var e=Object(d.a)(u.a.mark((function e(t){var n,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={method:"POST",headers:{"Content-Type":"application/json","X-CSRFToken":x.a.get("csrftoken")}},a=function(e){return console.warn(e)},e.next=4,fetch("/rest-auth/logout/",n).catch(a);case 4:e.sent.ok&&(x.a.remove("Authorization"),this.props.history.push("/"),this.setState({loggedIn:!1}),localStorage.removeItem("user"));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return Object(O.jsx)(O.Fragment,{children:Object(O.jsxs)("main",{className:"max-w-screen-lg m-auto  main-page ",children:[Object(O.jsx)(g,{loggedIn:this.state.loggedIn,handleLogout:this.handleLogout,isStaff:this.state.isStaff}),Object(O.jsxs)(f.c,{children:[Object(O.jsx)(f.a,{path:"/login",render:function(t){return Object(O.jsx)(S,Object(l.a)(Object(l.a)({},t),{},{handleLogin:e.handleLogin,isAuthed:!0}))}}),Object(O.jsx)(f.a,{path:"/register",render:function(t){return Object(O.jsx)(C,Object(l.a)(Object(l.a)({},t),{},{handleRegistration:e.handleRegistration}))}}),Object(O.jsx)(f.a,{path:"/events/volunteer/",render:function(e){return Object(O.jsx)(E,Object(l.a)({},e))}}),Object(O.jsx)(f.a,{path:"/events/admin/",render:function(e){return Object(O.jsx)(F,Object(l.a)(Object(l.a)({},e),{},{isAuthed:!0}))}}),Object(O.jsx)(f.a,{path:"/events/my-events/",render:function(e){return Object(O.jsx)(_,Object(l.a)(Object(l.a)({},e),{},{isAuthed:!0}))}}),Object(O.jsx)(f.a,{path:"/profile",render:function(e){return Object(O.jsx)(I,Object(l.a)(Object(l.a)({},e),{},{isAuthed:!0}))}}),Object(O.jsx)(f.a,{path:"/students",render:function(e){return Object(O.jsx)(D,Object(l.a)(Object(l.a)({},e),{},{isAuthed:!0}))}}),Object(O.jsx)(f.a,{exact:!0,path:"/",children:Object(O.jsx)(y,{})})]})]})})}}]),n}(a.Component)),P=Object(f.f)(L),R=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,47)).then((function(t){var n=t.getCLS,a=t.getFID,s=t.getFCP,r=t.getLCP,i=t.getTTFB;n(e),a(e),s(e),r(e),i(e)}))};i.a.render(Object(O.jsx)(s.a.StrictMode,{children:Object(O.jsx)(o.a,{children:Object(O.jsx)(P,{})})}),document.getElementById("root")),R()}},[[46,1,2]]]);
//# sourceMappingURL=main.7a65d0ae.chunk.js.map